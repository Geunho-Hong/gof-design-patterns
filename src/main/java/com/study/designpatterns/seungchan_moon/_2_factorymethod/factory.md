
### 팩토리 메소드 패턴
> 구체적으로 어떤 인스턴스를 만들지는 서브 클래스가 정한다.

- 다양한 구현체가 있고 그 중에서 특정한 구현체를 만들 수 있는 다양한 팩토리를 제공한다.

도메인 주도 설계 내용 중..

> + 어떤 객체나 전체 애그리거트를 생성하는 일이 복잡해지거나 내부 구조를 너무 많이 드러내는 경우 팩토리가 캡슐화를 제공해준다.
> + 복잡한 복합 객체를 조립하는 일(팩토리의 책임)은 조립이 완료됐을 떄 해당 객체가 하는 일과(도메인 책임)과 가장 관련성이 적은 일이다.
    > 클라이언트가 응용 계층 일부를 구성하고 있다면 도메인 계층에서 책임이 새어 나온다는 것이다.
> + 일반적으로 팩토리는 모델의 어떤 부분도 표현하지는 않지만 해당 모델을 나타내는 객체를 뚜렷하게 드러내는데 일조한다.
> + 팩토리는 객체의 생성과 재구성이라는 생명주기 전이를 캡슐화한다.


---

- [OCP 를 위반한 팩토리](./before/ShipFactory.java)
  - 확장에 열려있지만 변경에 닫혀있지 않다. (변경사항마다 수정이 필요)
- [확장에 열려있고 변경에 닫혀있는 팩토리](./after/ShipFactory.java)
  - 클라이언트 코드가 바뀌긴 하지만 제품에 중점을 두고 생각

#### 복습

- 팩토리 메소드 패턴의 장점, 단점
  - 기존 인스턴스를 만드는 과정들을 건드리지 않고 새로운 방법으로 확장이 가능하며 두 객체 간 커플링을 느슨하게 가져갈수 있다.
  - 역할을 나누다보니 복잡해진다.
- OCP
  - 기존 코드를 변경하지 않고 새로운 기능을 확장


#### 언제 사용하나?

- 단순한 팩토리 패턴
  - 매개변수의 값에 따라 또는 메소드에 따라 각기 다른 인스턴스를 리턴하는 단순한 버전의 팩토리 패턴
  - java.lang.Calendar 또는 java.lang.NumberFormat
  - [SimpleFactory](./example/SimpleFactory.java)
- 스프링 BeanFactory
  - Object 타입의 Product 를 만드는 BeanFactory 라는 Creator